# template for generation of error emails by TemplateBasedMailCreator
#
# - this template is used for generation of all error emails (all flows) handed over to TemplateBasedMailCreator
# - lines starting with # are removed
#
# available substitutions:
# * azkabanName, azkabanUrl
# * projectName, projectUrl
# * flowId, flowPath, flowUrl
# * executionId, executionPath, executionUrl
# * duration, submitTime, startTime, endTime
# * status
# * concurrentOption
# * failureAction, failureActionMessage
# * mailCreator
# available substitutions for failedJobs:
# * jobId, jobUrl
# available substitutions for ??? flow aparaes:
# * jobId, jobUrl
#
<h2>Execution failed</h2>
Execution <a href="${executionUrl}">${executionId}</a> of flow <a href="${flowUrl}">${flowId}</a> of project <a href="${projectUrl}">${projectName}</a> has failed on <a href="${azkabanUrl}">${azkabanName}</a>.
<table>
  <tr><td>Submit Time</td><td>${submitTime}</td></tr>
  <tr><td>Start Time</td><td>${startTime}</td></tr>
  <tr><td>End Time</td><td>${endTime}</td></tr>
  <tr><td>Duration</td><td>${duration}</td></tr>
  <tr><td>Status</td><td>${status}</td></tr>
  <tr><td>Concurrent Option</td><td>${concurrentOption}</td></tr>
  <tr><td>Failure Action</td><td>${failureAction}</td></tr>
</table>
<a href="${executionUrl}">Execution of ${flowId}</a>

<h3>Flow Parameters</h3>
<table>
<flowParameters>  <tr><td>${key}</td><td>${value}</td></tr>
</flowParameters></table>

<h3>Issues</h3>
<ul>
<failedJobs>  <li><a href="${jobUrl}">Failed job '${jobId}'</a></li>
</failedJobs></ul>

<footer>generated by ${mailCreator}</footer>
