<h2 id="solo-setup">Getting started with the Solo Server</h2>

<p>The solo server is a standalone instance of Azkaban and the simplest to get started with. The solo server has the following advantages.</p>
<ul>
  <li><strong>Easy to install</strong> - No MySQL instance is needed. It packages H2 as its main persistence storage.</li>
  <li><strong>Easy to start up</strong> - Both web server and executor server run in the same process.</li>
  <li><strong>Full featured</strong> - It packages all Azkaban features. You can use it in normal ways and install plugins for it.</li>
</ul>

<h3>Installing the Solo Server</h3>
Follow these steps to get started.
<ol>
  <li><strong>Clone the repo:</strong> run <code>git clone https://github.com/azkaban/azkaban.git</code></li>
  <li><strong>Build Azkaban and create an installation:</strong> run <code>cd azkaban; ./gradlew build installDist</code></li>
  <li><strong>Start the server:</strong> run <code>cd azkaban-solo-server/build/install/azkaban-solo-server; bin/azkaban-solo-start.sh</code></li>
  <li><strong>Stop server:</strong> run <code>bin/azkaban-solo-shutdown.sh</code> from within the azkaban-solo-server installation directory</li>
</ol>

<p>Also see <a href="#building-from-source">building from source</a>.</p>

<p>The solo-server installation should contain the following directories.</p>

<table class="table table-striped table-bordered table-condensed">
  <thead>
    <th>Folder</th>
    <th>Description</th>
  </thead>
  <tbody>
    <tr>
      <td>bin</td>
      <td>The scripts to start/stop Azkaban jetty server</td>
    </tr>
    <tr>
      <td>conf</td>
      <td>The configuration files for Azkaban solo server</td>
    </tr>
    <tr>
      <td>lib</td>
      <td>The jar dependencies for Azkaban</td>
    </tr>
    <tr>
      <td>extlib</td>
      <td>Additional jars that are added to extlib will be added to Azkaban's classpath</td>
    </tr>
    <tr>
      <td>plugins</td>
      <td>the directory where plugins can be installed</td>
    </tr>
    <tr>
      <td>web</td>
      <td>The web (css, javascript, image) files for Azkaban web server.</td>
    </tr>
  </tbody>
</table>

<p>In the <code>conf</code> directory, there should be three files:</p>

<ul>
  <li><code>azkaban.private.properties</code> - Used by Azkaban for runtime parameters</li>
  <li><code>azkaban.properties</code> - Used by Azkaban for runtime parameters</li>
  <li><code>global.properties</code> - Global static properties that are passed as shared properties to every workflow and job.</li>
  <li><code>azkaban-users.xml</code> - Used to add users and roles for authentication. This file is not used if the XmLUserManager is not set up to use it.</li>
</ul>

<p>The <code>azkaban.properties</code> file will be the main configuration file.</p>

<h3>Getting KeyStore for SSL (Optional)</h3>

<p>Azkaban solo server by default doesn't use SSL. But you could set it up the same way in a stand alone web server. Here is how:</p>

<p>Azkaban web server could use SSL socket connectors, which means a keystore will have to be available. You call follow the steps provided at this link ([http://docs.codehaus.org/display/JETTY/How+to+configure+SSL](http://docs.codehaus.org/display/JETTY/How+to+configure+SSL)) to create one. Once a keystore file has been created, Azkaban must be given its location and password. Within _azkaban.properties_, the following properties should be overridden.</p>

<pre class="code">
jetty.keystore=keystore
jetty.password=password
jetty.keypassword=password
jetty.truststore=keystore
jetty.trustpassword=password
</pre>


<h3>Setting up the UserManager</h3>

<p>Azkaban uses the UserManager to provide authentication and user roles. By default, Azkaban includes and uses the <code>XmlUserManager</code> which gets username/passwords and roles from the _azkaban-users.xml_ as can be seen in the <code>azkaban.properties</code> file.</p>

<ul>
  <li><code>user.manager.class=azkaban.user.XmlUserManager</code></li>
  <li><code>user.manager.xml.file=conf/azkaban-users.xml</code></li>
</ul>

<h3>Running Web Server</h3>

<p>The following properties in <code>azkaban.properties</code> are used to configure jetty.</p>

<pre class="code">
jetty.maxThreads=25
jetty.ssl.port=8081
</pre>

<p>Execute <code>bin/azkaban-solo-start.sh</code> to start the solo server. To shutdown, run <code>bin/azkaban-solo-shutdown.sh</code></p>

<p>Open <a href="http://localhost:8081/index">http://localhost:8081/index</a> on your browser.</p>
